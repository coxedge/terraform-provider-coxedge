---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "coxedge_network_policy_rule Resource - terraform-provider-coxedge"
subcategory: ""
description: Network policy rules allows you to control inbound and outbound traffic to your workload.
  
---

# coxedge_network_policy_rule (Resource)
Network policy rules allows you to control inbound and outbound traffic to your workload.

Example Usage
---
```
terraform {
  required_providers {
    coxedge = {
      version = "0.4.2"
      source  = "coxedge/coxedge"
    
  }
}

provider "coxedge" {
}

resource "coxedge_network_policy_rule" "testing" {
  organization_id  = "organization id"
  environment_name = "environment-name"
  network_policy {
    workload_id = "workload Id"
    # add id for update
    #    id          = "5a1839d3-234c-4a1b-b5fa-82e5dfd2ec36/INBOUND/1080815577/0"
    description = "inbound-1-s"
    protocol    = "TCP"
    type        = "INBOUND"
    action      = "ALLOW"
    source_ips  = tolist( ["0.0.0.0/2", "0.0.0.0/32"])
    ports       = tolist( ["80", "30000-33001"])
  }
  network_policy {
    workload_id = "workload Id"
    # add id for update
    #id          = "5a1839d3-234c-4a1b-b5fa-82e5dfd2ec36/INBOUND/-2053391905/0"
    description = "inbound-2-update"
    protocol    = "TCP"
    type        = "INBOUND"
    action      = "ALLOW"
    source_ips  = tolist( ["0.0.0.0/2", "0.0.0.0/32"])
    ports       = tolist( ["80", "30000-33001"])
  }
}

output "policy" {
  value = coxedge_network_policy_rule.testing.network_policy
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_name` (String) - Name of the environment belonging to the organization.
- `network_policy` (Block List, Min: 1) (see [below for nested schema](#nestedblock--network_policy)) - The network policy to which the network policy rule belongs.
- `organization_id` (String) - The id of the organization.

### Read-Only

- `id` (String) The ID of this resource.
- `stack_id` (String) - The UUID of the stack to which the network policy belongs.

<a id="nestedblock--network_policy"></a>
### Nested Schema for `network_policy`

Required:

- `action` (String) - The network policy rule action: ALLOW (allow traffic) or BLOCK (deny traffic).
- `ports` (String List) - This specifies on which ports traffic will be allowed or denied by this rule. It can be a range of ports separated by a hyphen.
- `protocol` (String) - Supported protocols are: TCP, UDP, TCP_UDP, ESP, AH, ICMP or GRE.
- `source_ips` (String List) - A subnet that will define all the IPs allowed or denied by this rule.
- `type` (String) - The type of network policy rule, either INBOUND or OUTBOUND.
- `workload_id` (String) - The UUID of the workload to which the network policy rule is applied. Corresponds to the first workload ID in the network policy's list of instance selectors.

Optional:

- `description` (String) - A summary of what this rule does or a name of this rule. It is highly recommended to give a unique description to easily identify a rule.

Read-Only:

- `id` (String) The ID of this resource.
- `network_policy_id` (String) - The UUID of the network policy to which the network policy rule belongs.


